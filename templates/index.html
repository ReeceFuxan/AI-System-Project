<!DOCTYPE html>
<html lang="en">
<head>
    <title>Database Dashboard</title>
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
    <h1 class="text-center">Database Dashboard</h1>

    <!-- Search Bar -->
    <div class="card my-3">
        <div class="card-header bg-info text-white">Search</div>
        <div class="card-body">
            <form method="POST">
                {{ search_form.hidden_tag() }}
                <div class="mb-3">
                    {{ search_form.query.label(class="form-label") }}
                    {{ search_form.query(class="form-control") }}
                </div>
                <button type="submit" class="btn btn-primary">{{ search_form.submit.label }}</button>
            </form>
        </div>
    </div>

    <!-- Users Section -->
    <div class="card my-3">
        <div class="card-header bg-primary text-white">Users</div>
        <div class="card-body">
            <ul class="list-group">
                {% for user in users %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ user.name }} - {{ user.email }}
                        <div>
                            <a href="{{ url_for('edit_user', user_id=user.id) }}" class="btn btn-warning btn-sm">✏️ Edit</a>
                            <a href="{{ url_for('delete_user', user_id=user.id) }}" class="btn btn-danger btn-sm">❌ Delete</a>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- Add User Form -->
    <div class="card my-3">
        <div class="card-header bg-success text-white">Add a New User</div>
        <div class="card-body">
            <form method="POST">
                {{ user_form.hidden_tag() }}
                <div class="mb-3">
                    {{ user_form.name.label(class="form-label") }}
                    {{ user_form.name(class="form-control") }}
                </div>
                <div class="mb-3">
                    {{ user_form.email.label(class="form-label") }}
                    {{ user_form.email(class="form-control") }}
                </div>
                <button type="submit" class="btn btn-primary">{{ user_form.submit.label }}</button>
            </form>
        </div>
    </div>

    <!-- Papers Section -->
    <div class="card my-3">
        <div class="card-header bg-primary text-white">Papers</div>
        <div class="card-body">
            <ul class="list-group">
                {% for paper in papers %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ paper.title }} (Author ID: {{ paper.author_id }})
                        <div>
                            <a href="{{ url_for('edit_paper', paper_id=paper.id) }}" class="btn btn-warning btn-sm">✏️ Edit</a>
                            <a href="{{ url_for('delete_paper', paper_id=paper.id) }}" class="btn btn-danger btn-sm">❌ Delete</a>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- Add Paper Form -->
    <div class="card my-3">
        <div class="card-header bg-success text-white">Add a New Paper</div>
        <div class="card-body">
            <form method="POST">
                {{ paper_form.hidden_tag() }}
                <div class="mb-3">
                    {{ paper_form.title.label(class="form-label") }}
                    {{ paper_form.title(class="form-control") }}
                </div>
                <div class="mb-3">
                    {{ paper_form.author_id.label(class="form-label") }}
                    {{ paper_form.author_id(class="form-control") }}
                </div>
                <div class="mb-3">
                    {{ paper_form.content.label(class="form-label") }}
                    {{ paper_form.content(class="form-control") }}
                </div>
                <button type="submit" class="btn btn-primary">{{ paper_form.submit.label }}</button>
            </form>
        </div>
    </div>

    <!-- Topics Section -->
    <div class="card my-3">
        <div class="card-header bg-primary text-white">Topics</div>
        <div class="card-body">
            <ul class="list-group">
                {% for topic in topics %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        {{ topic.name }} (Paper ID: {{ topic.paper_id }})
                        <div>
                            <a href="{{ url_for('edit_topic', topic_id=topic.id) }}" class="btn btn-warning btn-sm">✏️ Edit</a>
                            <a href="{{ url_for('delete_topic', topic_id=topic.id) }}" class="btn btn-danger btn-sm">❌ Delete</a>
                        </div>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- Add Topic Form -->
    <div class="card my-3">
        <div class="card-header bg-success text-white">Add a New Topic</div>
        <div class="card-body">
            <form method="POST">
                {{ topic_form.hidden_tag() }}
                <div class="mb-3">
                    {{ topic_form.name.label(class="form-label") }}
                    {{ topic_form.name(class="form-control") }}
                </div>
                <div class="mb-3">
                    {{ topic_form.paper_id.label(class="form-label") }}
                    {{ topic_form.paper_id(class="form-control") }}
                </div>
                <button type="submit" class="btn btn-primary">{{ topic_form.submit.label }}</button>
            </form>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
